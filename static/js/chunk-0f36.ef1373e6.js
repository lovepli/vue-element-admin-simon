(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f36"],{AxRx:function(t,e,n){},F8YM:function(t,e,n){"use strict";var i=n("M55E"),o=n.n(i),a={name:"ShowDown",props:{markDownContent:{type:String,default:""}},data:function(){return{converter:null}},watch:{markDownContent:"contentChanged"},mounted:function(){this.init()},methods:{init:function(){var t=new o.a.Converter({backslashEscapesHTMLTags:!0,completeHTMLDocument:!0,disableForced4SpacesIndentedSublists:!0,emoji:!0,encodeEmails:!0,excludeTrailingPunctuationFromURLs:!0,ghCodeBlocks:!0,ghCompatibleHeaderId:!0,ghMentions:!0,ghMentionsLink:"https://github.com/{u}",headerLevelStart:!0,literalMidWordAsterisks:!0,literalMidWordUnderscores:!0,metadata:!0,noHeaderId:!0,omitExtraWLInCodeBlocks:!0,openLinksInNewWindow:!0,parseImgDimensions:!0,prefixHeaderId:!0,rawHeaderId:!0,rawPrefixHeaderId:!0,requireSpaceBeforeHeadingText:!0,simpleLineBreaks:!0,simplifiedAutoLink:!0,smartIndentationFix:!0,smoothLivePreview:!0,splitAdjacentBlockquotes:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,tasklists:!0,underline:!0});this.converter=t},contentChanged:function(){var t=this.converter.makeHtml(this.markDownContent);document.getElementById("show-content").innerHTML=t}}},r=(n("rAhj"),n("KHd+")),l=Object(r.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"show-content",attrs:{id:"show-content"}})},[],!1,null,"0b14f4b2",null);l.options.__file="ShowDown.vue";e.a=l.exports},QDOP:function(t,e,n){"use strict";var i=n("bsEH");n.n(i).a},U5Dd:function(t,e,n){"use strict";var i=n("a9Hb");n.n(i).a},Yb4v:function(t,e,n){"use strict";n.r(e);var i=n("14Xm"),o=n.n(i),a=n("D3Ub"),r=n.n(a),l=n("5WJX"),s=n.n(l),c=(n("eROu"),n("0Id1"),n("CQIl"),n("lDS1"),n("L+zx"),n("/75p"),n("w9f+"),n("B9f7"),n("9VcC"),n("aeQa"),n("MVQK"),n("Kwdf"),n("iGOs"),n("S9Dz"),n("Qjfq"),n("Oupb"),n("z7CG"),n("vFQT"),n("hArZ"),n("YuVX"),n("VaDg"),n("AzV5"),n("eOTG"),n("DvpE"),n("0tw5"),n("cZOo"),n("o9ut"),n("ZNhe"),n("LTPx"),n("hVuo"),n("5FW9"),n("CqDB"),n("Tqh3"),n("+70J"),n("Tmxy"),n("hOyB"),n("7anz"),n("66wf"),n("Cp0W"),n("aVf9"),n("3Ldi"),n("B9FH"),n("NN4D"),n("7zcm"),n("Nl51"),n("qoH+")),u=n("F8YM"),d={components:{VueDialog:c.a,MarkDown:u.a},props:{tinyOpt:{type:Object,default:function(){return{height:350}}},id:{type:String,required:!1,default:"tinymce"},value:{type:String,default:""},plugins:{default:function(){return[]},type:Array},other_options:{type:Object,default:function(){return{}}},readonly:{type:Boolean,default:!1},gallery:{type:Boolean,default:!1},widthGallery:{type:String,default:"80%"},galleryData:{type:Object,default:function(){}},markdown:{type:Boolean,default:!1},widthMarkDown:{type:String,default:"60%"}},data:function(){return{content:"",editor:null,isTyping:!1,checkerTimeout:null,isFullscreen:!1,visibleGallery:!1,visibleMarkDown:!1,markDownContent:""}},mounted:function(){this.content=this.value,this.init()},beforeDestroy:function(){this.editor.destroy()},watch:{$route:function(t,e){this.init()},value:function(t){this.isTyping||(this.content=t)},readonly:function(t){t?this.editor.setMode("readonly"):this.editor.setMode("design")}},methods:{init:function(){var t={selector:"#"+this.id,skin:!1,init_instance_callback:this.initEditor,height:this.tinyOpt.height,language_url:document.location.protocol+"//"+window.location.host+"/vue-element-admin-simon/static/langs/zh_CN.js",branding:!1,theme:"modern",toolbar_items_size:"small",plugins:["advlist autolink link image lists charmap print hr anchor pagebreak","searchreplace visualblocks visualchars code fullscreen media nonbreaking","table directionality emoticons textcolor paste textcolor colorpicker textpattern"],style_formats:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}],block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;",toolbar1:"insertfile undo redo | formatselect | bullist numlist | link unlink | uploadimg image media | fullscreen",toolbar2:"styleselect fontsizeselect | forecolor backcolor | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | outdent indent | removeformat"};s.a.init(this.concatAssciativeArrays(t,this.other_options))},initEditor:function(t){var e=this;this.editor=t,t.setContent(this.content),t.on("KeyUp",function(t){e.submitNewContent("keyup")}),t.on("Change",function(t){e.editor.getContent()!==e.value&&e.submitNewContent("keyup")}),t.on("FullscreenStateChanged",function(t){e.isFullscreen=t.state}),t.on("init",function(n){t.setContent(e.content),e.$emit("input",e.content)}),this.readonly?this.editor.setMode("readonly"):this.editor.setMode("design"),this.$emit("editorInit",t)},concatAssciativeArrays:function(t,e){if(0===e.length)return t;if(0===t.length)return e;var n=[];for(var i in t)n[i]=t[i];for(var o in e)n[o]=e[o];return n},submitNewContent:function(t){var e=this;this.isTyping=!0,null!==this.checkerTimeout&&clearTimeout(this.checkerTimeout),this.checkerTimeout=setTimeout(function(){e.isTyping=!1,e.$emit(t,e.editor.getContent())},300)},clearContent:function(){s.a.activeEditor.setContent(""),this.submitNewContent("keyup")},confirmHandler:function(t){this.visibleGallery=!1;var e="";t.galleryList.forEach(function(t){e+="<img src="+t.uploadLocalUrl+">"}),s.a.execCommand("mceInsertContent",!1,e),this.submitNewContent("keyup")},toHtml:function(){var t=this;this.$nextTick(function(){var e=s.a.activeEditor.getContent();t.markDownContent=e.replace(/<\/?.+?>/g,"")})},goToMaxiang:function(){window.open("https://maxiang.io","_blank")}}},h=(n("U5Dd"),n("KHd+")),m=Object(h.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-gallery",class:{fullscreen:t.isFullscreen},staticStyle:{position:"relative"}},[n("textarea",{attrs:{id:t.id},domProps:{value:t.value}}),t._v(" "),n("div",{staticClass:"tinymce-gallery-buttons"},[t.markdown?n("el-button",{staticStyle:{"border-radius":"50%",width:"20px",height:"20px",padding:"0"},attrs:{type:"primary",circle:""},on:{click:t.goToMaxiang}},[t._v("?\n    ")]):t._e(),t._v(" "),t.markdown?n("el-button",{staticClass:"tinymce-gallery-buttons-button",attrs:{type:"info",plain:""},on:{click:function(e){t.visibleMarkDown=!0,t.toHtml()}}},[t._v("MarkDown预览\n    ")]):t._e(),t._v(" "),t.gallery?n("el-button",{staticClass:"tinymce-gallery-buttons-button",attrs:{type:"info",plain:""},on:{click:function(e){t.visibleGallery=!0}}},[t._v("图片库\n    ")]):t._e(),t._v(" "),n("el-button",{staticClass:"tinymce-gallery-buttons-button",attrs:{type:"info",plain:""},on:{click:t.clearContent}},[t._v("清空\n    ")])],1),t._v(" "),t.gallery?n("vue-dialog",{attrs:{visible:t.visibleGallery,width:t.widthGallery,top:"5vh",title:"图片库",type:"PhotoGallery","pic-list":t.galleryData.list,"page-size":8},on:{closeHandler:function(e){t.visibleGallery=!1},confirmHandler:t.confirmHandler}}):t._e(),t._v(" "),t.markdown?n("el-dialog",{attrs:{title:"MarkDown",visible:t.visibleMarkDown,width:t.widthMarkDown},on:{"update:visible":function(e){t.visibleMarkDown=e}}},[n("mark-down",{attrs:{"mark-down-content":t.markDownContent}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visibleMarkDown=!1}}},[t._v("确 定")])],1)],1):t._e()],1)},[],!1,null,"7dd672ae",null);m.options.__file="Tinymce.vue";var p=m.exports,f=n("IsxU"),y={name:"RichTxtTinymce",components:{Tinymce:p},data:function(){return{gallery:!0,markdown:!0,readonly:!1,tinyOpt:{height:300},richTxtContent:"",galleryData:{}}},created:function(){this.getPhotoList()},methods:{getPhotoList:function(){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)();case 2:t.galleryData=e.sent.data.galleryData;case 3:case"end":return e.stop()}},e,t)}))()},tinymceHandler:function(t){this.richTxtContent=t}}},g=(n("QDOP"),Object(h.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"content-spe"},[n("p",{staticClass:"content-spe-title"},[t._v(t._s(t.$t("route.tinymce")))]),t._v(" "),n("div",{staticClass:"content-spe-element"},[n("el-row",{staticStyle:{"margin-bottom":"20px"}},[n("el-checkbox",{model:{value:t.gallery,callback:function(e){t.gallery=e},expression:"gallery"}},[t._v("图片库")]),t._v(" "),n("el-checkbox",{model:{value:t.markdown,callback:function(e){t.markdown=e},expression:"markdown"}},[t._v("Markdown")]),t._v(" "),n("el-checkbox",{model:{value:t.readonly,callback:function(e){t.readonly=e},expression:"readonly"}},[t._v("只读")])],1),t._v(" "),n("Tinymce",{attrs:{gallery:t.gallery,markdown:t.markdown,readonly:t.readonly,"tiny-opt":t.tinyOpt,"width-gallery":"70%","width-mark-down":"50%","gallery-data":t.galleryData,value:t.richTxtContent},on:{keyup:t.tinymceHandler}})],1)])])])},[],!1,null,"703b59ae",null));g.options.__file="tinymce.vue";e.default=g.exports},a9Hb:function(t,e,n){},bsEH:function(t,e,n){},rAhj:function(t,e,n){"use strict";var i=n("AxRx");n.n(i).a}}]);